<!DOCTYPE html>
<html>

<head>

	<title>Demo GIS Layers</title>

	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link rel="shortcut icon" type="image/x-icon" href="docs/images/favicon.ico" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

	<link rel="stylesheet" href="../src/leaflet.css" />
	<script src="../src/leaflet-src.js"></script>
	
	<link rel="stylesheet" href="../src/leaflet.gislayers.css" />
	<script src="../src/leaflet.gislayers.js"></script>

	<style>
		body {
			padding: 0;
			margin: 0;
		}

		html,
		body,
		#map {
			height: 100%;
			width: 100%;
		}


	</style>

</head>

<body>


	<div id="map"></div>
	<script>
		
		const map = L.map('map', {
			zoomControl: false
		}).setView([47.5, 16], 8);

		var mapbox = L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
			maxZoom: 18,
			id: 'mapbox.streets'
		});
		
		var osm = L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
			maxZoom: 18,
			id: 'osm'
		}).addTo(map);
		

		
		
		var dkm = L.tileLayer.wms('https://wsa.bev.gv.at/GeoServer/Interceptor/Wms/CP/INSPIRE_KUNDEN-17fed6dd-dbfe-4a95-86a0-db90ec896f25', {
			maxZoom: 18,
			opacity: 0.6,
			layers: '3',
			id: 'dkm'
		});

		var access1 = L.tileLayer.wms('http://tileserver.rimo-saas.com:8080/geoserver/RiMo/wms', {
			maxZoom: 18,
			opacity: 0.6,
			layers: 'RiMo:BMVIT_access1',
			id: 'access1'
		});

		var access2 = L.tileLayer.wms('http://tileserver.rimo-saas.com:8080/geoserver/RiMo/wms', {
			maxZoom: 18,
			opacity: 0.6,
			layers: 'RiMo:BMVIT_access2',
			id: 'access2'
		});

		var latlngs = [[48,15],[48,16],[49,17],[49,14]];
		var polygon = L.polygon(latlngs, {color: 'red'}).addTo(map);

		var leerverrohrung2 = L.tileLayer.wms('https://wsa.bev.gv.at/GeoServer/Interceptor/Wms/CP/INSPIRE_KUNDEN-17fed6dd-dbfe-4a95-86a0-db90ec896f25', {
			maxZoom: 18,
			opacity: 0.6,
			layers: '3',
			id: 'leerv2'
		});

		var leerverrohrung1 = L.tileLayer.wms('https://wsa.bev.gv.at/GeoServer/Interceptor/Wms/CP/INSPIRE_KUNDEN-17fed6dd-dbfe-4a95-86a0-db90ec896f25', {
			maxZoom: 18,
			opacity: 0.6,
			layers: '3',
			id: 'leerv1'
		});

		var leerverrohrung3 = L.tileLayer.wms('https://wsa.bev.gv.at/GeoServer/Interceptor/Wms/CP/INSPIRE_KUNDEN-17fed6dd-dbfe-4a95-86a0-db90ec896f25', {
			maxZoom: 18,
			opacity: 0.6,
			layers: '3',
			id: 'leerv3'
		});

		var leerverrohrung4 = L.tileLayer.wms('https://wsa.bev.gv.at/GeoServer/Interceptor/Wms/CP/INSPIRE_KUNDEN-17fed6dd-dbfe-4a95-86a0-db90ec896f25', {
			maxZoom: 18,
			opacity: 0.6,
			layers: '3',
			id: 'leerv4'
		});

		var landesgrenze = L.tileLayer.wms('https://wsa.bev.gv.at/GeoServer/Interceptor/Wms/CP/INSPIRE_KUNDEN-17fed6dd-dbfe-4a95-86a0-db90ec896f25', {
			maxZoom: 18,
			opacity: 0.6,
			layers: '3',
			id: 'landesg'
		});

		var random = L.tileLayer.wms('https://wsa.bev.gv.at/GeoServer/Interceptor/Wms/CP/INSPIRE_KUNDEN-17fed6dd-dbfe-4a95-86a0-db90ec896f25', {
			maxZoom: 18,
			opacity: 0.6,
			layers: '3',
			id: 'random',
			singlePane: true
		});




		var geojson1 = L.geoJSON({
			"type": "FeatureCollection",
			"features": [
				{
					"type": "Feature",
					"properties": {"color": "green"},
					"geometry": {
						"type": "Polygon",
						"coordinates": [
							[
								[
									15.5511474609375,
									48.046873823967154
								],
								[
									15.292968749999998,
									47.92554522341879
								],
								[
									15.3973388671875,
									47.76886840424207
								],
								[
									15.641784667968748,
									47.69682297134991
								],
								[
									16.07025146484375,
									47.80024163283363
								],
								[
									15.80657958984375,
									48.090922612296744
								],
								[
									15.5511474609375,
									48.046873823967154
								]
							]
						]
					}
				}
			]
		}, {
			style: function (feature) {
						return {
							color: feature.properties.color,
							fillOpacity: 1
						};
				}
		}).bindPopup(function (layer) {
				return 'green';
		});


		var geojson2 = L.geoJSON({
			"type": "FeatureCollection",
			"features": [
				{
					"type": "Feature",
					"properties": {"color":"#0071ce"},
					"geometry": {
						"type": "Polygon",
						"coordinates": [
							[
								[
									15.724182128906248,
									48.08174889040687
								],
								[
									14.842529296875,
									47.299721913179944
								],
								[
									16.38336181640625,
									47.2736386488847
								],
								[
									15.790100097656248,
									48.08358376568458
								],
								[
									15.724182128906248,
									48.08174889040687
								]
							]
						]
					}
				}
			]
		}, {
			style: function (feature) {
						return {
							color: feature.properties.color,
							fillOpacity: 1
						};
				}
		}).bindPopup(function (layer) {
				return 'blue';
		});		

		var geojson3Pane = map.getPane("geojson3");
		
		var geojson3 = L.geoJSON({
			"type": "FeatureCollection",
			"features": [
				{
					"type": "Feature",
					"properties": {},
					"geometry": {
						"type": "Polygon",
						"coordinates": [
							[
								[
									13.9306640625,
									47.96785877999251
								],
								[
									13.6669921875,
									47.55428670127958
								],
								[
									14.150390625,
									47.286681888764214
								],
								[
									14.688720703124998,
									47.5913464767971
								],
								[
									14.688720703124998,
									47.79101617826261
								],
								[
									14.501953124999998,
									47.908978314728714
								],
								[
									14.381103515624998,
									48.004625021133904
								],
								[
									13.9306640625,
									47.96785877999251
								]
							]
						]
					}
				},
				{
					"type": "Feature",
					"properties": {},
					"geometry": {
						"type": "Polygon",
						"coordinates": [
							[
								[
									15.2490234375,
									47.45037978769006
								],
								[
									16.10595703125,
									47.45037978769006
								],
								[
									16.10595703125,
									47.89424772020999
								],
								[
									15.2490234375,
									47.89424772020999
								],
								[
									15.2490234375,
									47.45037978769006
								]
							]
						]
					}
				},
				{
					"type": "Feature",
					"properties": {},
					"geometry": {
						"type": "Point",
						"coordinates": [
							15.1171875,
							48.17341248658084
						]
					}
				}
			]
		}).bindPopup(function (layer) {
				return 'multi';
		});		



		L.control.zoom({
			zoomInText: 'I',
			zoomOutText: 'O'
		}).addTo(map);

		let layerControl = L.control.gisLayers(
			
			[  
				 {  
						"data": mapbox,
						"name": "Mapbox"
				 },
				 {  
						"data": osm,
						"name": "OSM"
				 }
			],
			[  
				 {  
						"data": [  
							 {  
									"data": dkm,
									"name": "DKM"
							 },
							 {
								 "data": polygon,
								 "name": "Polygon"
							 }
						],
						"name": "GOV",
						"grouped": true
				 },
				 {  
						"data":[  
							 {  
									"data": leerverrohrung1,
									"name": "Leerverrohrung1"
							 },
							 {  
									"data": leerverrohrung2,
									"name": "Leerverrohrung2"
							 },
							 {  
									"data": leerverrohrung2,
									"name": "Leerverrohrung3"
							 }
						],
						"name": "BMVIT"
				 },
				 {  
						"data":[  
							 {  
									"data": access1,
									"name": "access1"
							 },
							 {  
									"data":[  
										 {  
												"data":[
													{
															"data": [
																{
																	"data": geojson2,
																	"name": "blau"
																}
															],
															"name": "bluegroup",
															"grouped": true
													},
													{  
															"data":[  
																 {  
																		"data": geojson1,
																		"name": "gr√ºn"
																 }
															],
															"name": "greengroup"
													},
													{
														"data": [
															{
																"data": geojson3,
																"name": "multi"
															}
														],
														"name": "multigroup",
														"grouped": true
													}
												],
												"name": "bar"
										 },
	 
									],
									"name": "test"
							 }
						],
						"name": "test"
				 },
				 {  
						"data": random,
						"name": "randomData"
				 }
			]
		, {
			"geojsonEqual": true
		}).addTo(map).expand();
	</script>



</body>

</html>